<!DOCTYPE html>
<html lang="en">
<head>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs-3.3.7/dt-1.10.15/datatables.min.css"/>
 
<script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/dt-1.10.15/datatables.min.js"></script>

<script type="text/javascript" src="https://cdn.datatables.net/r/bs-3.3.5/jqc-1.11.3,dt-1.10.8/datatables.min.js"></script>
 
<!-- <script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/dt-1.10.15/datatables.min.js"></script> -->
</head>

<body>

<div class="container col-sm-12">

<div id="example_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
  <!-- <div class="row">
    <div class="col-sm-6">
      <div class="dataTables_length" id="example_length">
        <label>Show 
          <select name="example_length" aria-controls="example" class="form-control input-sm">
            <option value="10">10</option>
            <option value="25">25</option>
            <option value="50">50</option>
            <option value="100">100</option>
          </select> 
          entries</label>
      </div>
    </div>
    <div class="col-sm-6">
      <div id="example_filter" class="dataTables_filter">
        <label>Search:
          <input type="search" class="form-control input-sm" placeholder="" aria-controls="example">
        </label>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12"> -->
      <table id="example" class="table table-striped table-bordered dataTable no-footer" cellspacing="0" width="100%" role="grid" aria-describedby="example_info" style="width: 100%;">
       <!--  <thead>
          <tr role="row">
            <th class="sorting_asc" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width: 259px;">Analyst</th>
            <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 393px;">Create Date</th>
            <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Office: activate to sort column ascending" style="width: 198px;">IAT ID</th>
            <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 155px;">IAT Name</th>
            <th class="sorting_asc" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width: 259px;">Summary Offices</th>
          </tr>
        </thead> -->
      </table>
    </div>
    <div class="container col-sm-6">
          <table id="example2" class="table table-striped table-bordered dataTable no-footer" cellspacing="0" width="100%" role="grid" aria-describedby="example_info" style="width: 100%;">
          </table>
    </div>

    <div class="container col-sm-6">
          <table id="example3" class="table table-striped table-bordered dataTable no-footer" cellspacing="0" width="100%" role="grid" aria-describedby="example_info" style="width: 100%;">
          </table>
    </div>
<!--   </div> -->
  <!-- <div class="row">
    <div class="col-sm-5">
      <div class="dataTables_info" id="example_info" role="status" aria-live="polite">
        Showing 1 to 10 of 57 entries
      </div>
    </div>
    <div class="col-sm-7">
      <div class="dataTables_paginate paging_simple_numbers" id="example_paginate">
        <ul class="pagination">
          <li class="paginate_button previous disabled" id="example_previous">
            <a href="#" aria-controls="example" data-dt-idx="0" tabindex="0">Previous</a>
          </li>
          <li class="paginate_button active">
            <a href="#" aria-controls="example" data-dt-idx="1" tabindex="0">1</a>
          </li>
          <li class="paginate_button ">
            <a href="#" aria-controls="example" data-dt-idx="2" tabindex="0">2</a>
          </li>
          <li class="paginate_button ">
            <a href="#" aria-controls="example" data-dt-idx="3" tabindex="0">3</a>
          </li>
          <li class="paginate_button ">
            <a href="#" aria-controls="example" data-dt-idx="4" tabindex="0">4</a>
          </li>
          <li class="paginate_button ">
            <a href="#" aria-controls="example" data-dt-idx="5" tabindex="0">5</a>
          </li>
          <li class="paginate_button ">
            <a href="#" aria-controls="example" data-dt-idx="6" tabindex="0">6</a>
          </li>
          <li class="paginate_button next" id="example_next">
            <a href="#" aria-controls="example" data-dt-idx="7" tabindex="0">Next</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div> -->
      
  <!--   </div> -->

  <!-- <div class="container">

      <div id="example_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer"> -->
<!-- 
        <div class="row">
          <div class="col-sm-6">
            <div class="dataTables_length" id="example_length">
              <label>
              "Show"
                <select name="example_length" class="form-control input-sm">
                  <option value="10">10</option>
                  <option value="25">25</option>
                  <option value="50">50</option>
                  <option value="100">100</option>
                </select>
                "entries"
              </label>
            </div>
          </div>
        </div> -->

        <!-- <table id="example" class="display" cellspacing="0" width="100%">
          <thead>
              <tr>
                  <th>ID</th>
                  <th>Create Date</th>
                  <th>Analyst Name</th>
                  <th>IAT_Name</th>
                  <th>Summary_offices</th>
              </tr>
          </thead>
          <tfoot>
              <tr>
                  <th>ID</th>
                  <th>Create Date</th>
                  <th>Analyst Name</th>
                  <th>IAT_Name</th>
                  <th>Summary_offices</th>
              </tr>
          </tfoot>
      </table> -->
      <!-- <table id="example" class="display table table-striped table-bordered dataTable no-footer" cellspacing="0" width="100%">
          <thead>
              <tr>
                  <th>Analyst</th>
                  <th>Create Date</th>
                  <th>IAT ID</th>
                  <th>IAT Name</th>
                  <th>Summary Offices</th>
              </tr>
          </thead>
          <tfoot>
              <tr>
                  <th>Analyst</th>
                  <th>Create Date</th>
                  <th>IAT ID</th>
                  <th>IAT Name</th>
                  <th>Summary Offices</th>
              </tr>
          </tfoot>
      </table> -->


      <!-- </div>

  </div> -->

    <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
  <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script> 

  <script>
  // $(document).ready(function() {
  //   $('#example').DataTable( {
  //       "ajax": {
  //         url: "{{url_for('static',filename='data/test_data.json')}}",
  //         dataSrc: "data"
  //       },
  //   } );

    // console.log({{test|safe}});

//     var dataSet = {{test|safe}}; 
//     // var dataSet = [
//     //     [
//     //       "Tiger Nixon",
//     //       "System Architect",
//     //       "Edinburgh",
//     //       "5421",
//     //       "2011/04/25",
//     //       "$320,800"
//     //     ],
//     //     [
//     //       "Garrett Winters",
//     //       "Accountant",
//     //       "Tokyo",
//     //       "8422",
//     //       "2011/07/25",
//     //       "$170,750"
//     //     ]]
var dataSet = {{csv|safe}};
var secdataSet = {{seccsv|safe}};
  

        console.log(dataSet);

        console.log(dataSet[1].analyst);

        console.log(secdataSet);

        function LINKFunc(data, type, row, meta){
                    if(type === 'display'){
                      return '<a href="'+ row["summary_offices"]+'">'+data+'</a>';
                    } else {
                      console.log("missing");
                      return 0
                    };
                  };

        // $('#example2').text(JSON.stringify(dataSet));

        $(document).ready(function(){
        $('#example').DataTable( {
            "data": dataSet,
            "columns": [
                { "data": "iat_id",
                  "render": LINKFunc, //function (site, type, row, meta){
                  //   var dates = dataSet[0][0];
                  //   // console.log(dataSet);
                  //   if(type === 'display'){
                  //     final = '<a href="'+ dates+'">'+site+'</a>';
                  //   }
                  //   return final;
                  //LINKFunc(),//MAKE THIS FUNCTION OUTSIDE OF DATATABLES,
                  "title": "IAT ID"
                },
                {"data": "iat_name", title: "IAT NAME"},
                {"data": "analyst", title: "ANALYST"},
                {"data": "create_dt", title: "CREATED"},
                {"data": "summary_offices", title: "Summary Offices"}
            ],
            // "dom": '<"top"i>rt<"bottom"flp><"clear">'
            "lengthChange": false,
            "pageLength": 27,

            "dom": "<'row'<'col-sm-6'l><'col-sm-6'f>>" + "<'row'<'col-sm-12'tr>>" + "<'row'<'col-sm-5'i><'col-sm-7'p>>"
} );
// });

         $('#example2').DataTable( {
            "data": secdataSet,
            "columns": [
                { "data": "iat_id",
                  "render": LINKFunc, //function (site, type, row, meta){
                  //   var dates = dataSet[0][0];
                  //   // console.log(dataSet);
                  //   if(type === 'display'){
                  //     final = '<a href="'+ dates+'">'+site+'</a>';
                  //   }
                  //   return final;
                  //LINKFunc(),//MAKE THIS FUNCTION OUTSIDE OF DATATABLES,
                  "title": "IAT ID"
                },
                {"data": "iat_name", title: "IAT NAME"},
                {"data": "analyst", title: "ANALYST"},
                {"data": "create_dt", title: "CREATED"},
                {"data": "summary_offices", title: "Summary Offices"}
            ],
            // "dom": '<"top"i>rt<"bottom"flp><"clear">'
            // "lengthChange": false,
            "pageLength": 27,

            "dom": /*"<'row'<'col-sm-6'l><'col-sm-6'f>>" +*/ "<'row'<'col-sm-12'tr>>" + "<'row'<'col-sm-5'i><'col-sm-7'p>>"
} );
         $('#example3').DataTable( {
            "data": secdataSet,
            "columns": [
                { "data": "iat_id",
                  "render": LINKFunc, //function (site, type, row, meta){
                  //   var dates = dataSet[0][0];
                  //   // console.log(dataSet);
                  //   if(type === 'display'){
                  //     final = '<a href="'+ dates+'">'+site+'</a>';
                  //   }
                  //   return final;
                  //LINKFunc(),//MAKE THIS FUNCTION OUTSIDE OF DATATABLES,
                  "title": "IAT ID"
                },
                {"data": "iat_name", title: "IAT NAME"},
                {"data": "analyst", title: "ANALYST"},
                {"data": "create_dt", title: "CREATED"},
                {"data": "summary_offices", title: "Summary Offices"}
            ],
            // "dom": '<"top"i>rt<"bottom"flp><"clear">'
            "lengthChange": false,
            "pageLength": 27,

            "dom": /*"<'row'<'col-sm-6'l><'col-sm-6'f>>" +*/ "<'row'<'col-sm-12'tr>>" + "<'row'<'col-sm-5'i><'col-sm-7'p>>"
} );
});




//     $(document).ready(function() {
//     $('#example').DataTable( {
//         data: dataSet //,
//         // columns: [
//         //     { "data": "iat_id" },
//         //     { "data": "create_dt" },
//         //     { "data": "analyst" },
//         //     { "data": "iat_name" },
//         //     { "data": "summary_offices" },
//         // ]
//     } );
// } );
  </script>
</body>
</html>